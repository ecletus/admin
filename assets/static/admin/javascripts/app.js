$(function(){"use strict";$(document).on("click.qor.alert",'[data-dismiss="alert"]',function(){$(this).closest(".qor-alert").remove()}),setTimeout(function(){$('.qor-alert[data-dismissible="true"]').remove()},5e3)}),$(function(){"use strict";var e=$(".qor-page__body > .qor-form-container > form");$(".qor-error > li > label").each(function(){var t=$(this),a=t.attr("for");a&&e.find("#"+a).closest(".qor-field").addClass("is-error").append(t.clone().addClass("qor-field__error"))})}),$(function(){"use strict";$(document).on("click",".qor-dialog--global-search",function(e){e.stopPropagation(),$(e.target).parents(".qor-dialog-content").length||$(e.target).is(".qor-dialog-content")||$(".qor-dialog--global-search").remove()}),$(document).on("click",".qor-global-search--show",function(e){e.preventDefault();var t=$(this).data(),a=window.Mustache.render('<div class="qor-dialog qor-dialog--global-search" tabindex="-1" role="dialog" aria-hidden="true"><div class="qor-dialog-content"><form action=[[actionUrl]]><div class="mdl-textfield mdl-js-textfield" id="global-search-textfield"><input class="mdl-textfield__input ignore-dirtyform" name="keyword" id="globalSearch" value="" type="text" placeholder="" /><label class="mdl-textfield__label" for="globalSearch">[[placeholder]]</label></div></form></div></div>',t);$("body").append(a),window.componentHandler.upgradeElement(document.getElementById("global-search-textfield")),$("#globalSearch").focus()})}),$(function(){"use strict";var e=[],t=localStorage.getItem("qoradmin_menu_status");t&&t.length&&(e=t.split(",")),$(".qor-menu-container").on("click","> ul > li > a",function(){var t=$(this),a=t.parent(),o=t.next("ul"),s=a.attr("qor-icon-name");o.length&&(o.hasClass("in")?(e.push(s),a.removeClass("is-expanded"),o.one("transitionend",function(){o.removeClass("collapsing in")}).addClass("collapsing").height(0)):(e=_.without(e,s),a.addClass("is-expanded"),o.one("transitionend",function(){o.removeClass("collapsing")}).addClass("collapsing in").height(o.prop("scrollHeight"))),localStorage.setItem("qoradmin_menu_status",e))}).find("> ul > li > a").each(function(){var t=$(this),a=t.parent(),o=t.next("ul"),s=a.attr("qor-icon-name");o.length&&(o.addClass("collapse"),a.addClass("has-menu"),-1!=e.indexOf(s)?o.height(0):(a.addClass("is-expanded"),o.addClass("in").height(o.prop("scrollHeight"))))});var a=$(".qor-page > .qor-page__header"),o=$(".qor-page > .qor-page__body"),s=a.find(".qor-page-subnav__header").length?96:48;a.length&&(a.height()>s&&o.css("padding-top",a.height()),$(".qor-page").addClass("has-header"),$("header.mdl-layout__header").addClass("has-action"))}),$(function(){$(".qor-mobile--show-actions").on("click",function(){$(".qor-page__header").toggleClass("actions-show")})}),$(function(){"use strict";function e(e){$("[data-url]").removeClass(n),e&&e.length&&e.addClass(n)}function t(){var e=$(".qor-js-table tbody").find(".mdl-checkbox__input:checked"),t=[];return!!e.length&&(e.each(function(){t.push($(this).closest("tr").data("primary-key"))}),t)}var a,o,s=$("body"),n="is-selected",r=function(){return s.hasClass("qor-slideout-open")},l=function(){return s.hasClass("qor-bottomsheets-open")};s.qorBottomSheets(),s.qorSlideout(),a=s.data("qor.slideout"),o=s.data("qor.bottomsheets"),$(document).on("click.qor.openUrl","[data-url]",function(s){var i,d=$(this),c=$(s.target),h=d.hasClass("qor-button--new"),u=d.hasClass("qor-button--edit"),g=(d.is(".qor-table tr[data-url]")||d.closest(".qor-js-table").length)&&!d.closest(".qor-slideout").length,p=d.data(),m=p.openType,f=d.parents(".qor-theme-slideout").length,q=(d.hasClass("qor-action-button")||d.hasClass("qor-action--button"))&&!m;if(!(c.closest(".qor-button--actions").length||!c.data("url")&&c.is("a")||g&&l()))return q&&(i=t())&&(p=$.extend({},p,{actionData:i})),p.$target=c,p.method&&"GET"!=p.method.toUpperCase()?void 0:q||"bottomsheet"==m?q&&!i&&d.closest('[data-toggle="qor.action.bulk"]').length?(window.QOR.qorConfirm(p.errorNoItem),!1):(o.open(p),!1):g||h&&!l()||u||"slideout"==m?f||"slideout"==m?d.hasClass(n)?(a.hide(),e(),!1):(a.open(p),e(d),!1):(window.location=p.url,!1):r()||h&&l()?(o.open(p),!1):f?(a.open(p),!1):(o.open(p),!1)})}),$(function(){"use strict";var e=window.location;$(".qor-search").each(function(){var t=$(this),a=t.find(".qor-search__input"),o=t.find(".qor-search__clear"),s=!!a.val(),n=function(){"?"==e.search.replace(new RegExp(a.attr("name")+"\\=?\\w*"),"")?e.href=e.href.split("?")[0]:e.search=e.search.replace(new RegExp(a.attr("name")+"\\=?\\w*"),"")};t.closest(".qor-page__header").addClass("has-search"),$("header.mdl-layout__header").addClass("has-search"),o.on("click",function(){a.val()||s?n():t.removeClass("is-dirty")})})});